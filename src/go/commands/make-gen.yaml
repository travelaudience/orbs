description: Execute make gen in order to rebuild the generated protobuf files locally
parameters:
  protoc_version:
    description: Version of protoc-gen-go to install
    default: "v1.3.2"
    type: string
steps:
  - run: GO111MODULE=off go get -u github.com/vektra/mockery/cmd/mockery
  - run: go get -u github.com/golang/protobuf/protoc-gen-go@<<parameters.protoc_version>>
  - run: GO111MODULE=off go get -u golang.org/x/tools/cmd/goimports
  - run: make gen
